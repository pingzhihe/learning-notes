<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <style>
      :root {
        --content-width: 950px !important;     /* 调整内容区域最大宽度 */
      }
      
      /* 调整主要内容区域的宽度和边距 */
      .theme-default-content {
        max-width: var(--content-width);
        margin: 0 auto;
        padding: 2rem 2.5rem;
      }
    </style><title>References and Pointers 2 | Learning Notes</title><meta name="description" content="A note taking web site">
    <link rel="preload" href="/learning-notes/assets/style-CeqOocvs.css" as="style"><link rel="stylesheet" href="/learning-notes/assets/style-CeqOocvs.css">
    <link rel="modulepreload" href="/learning-notes/assets/app-DsOgR8nk.js"><link rel="modulepreload" href="/learning-notes/assets/pointers-2.html-CMWGu_On.js">
    <link rel="prefetch" href="/learning-notes/assets/index.html-DiukWnyu.js" as="script"><link rel="prefetch" href="/learning-notes/assets/index.html-D7rYKWbh.js" as="script"><link rel="prefetch" href="/learning-notes/assets/revision-2.html-C1P0zbGW.js" as="script"><link rel="prefetch" href="/learning-notes/assets/revision-3.html-H5WRivyx.js" as="script"><link rel="prefetch" href="/learning-notes/assets/revision.html-j7uDJZWI.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Enums-Structs.html-B5x4Jgi6.js" as="script"><link rel="prefetch" href="/learning-notes/assets/index.html-CQ8rKHO-.js" as="script"><link rel="prefetch" href="/learning-notes/assets/basic.html-W8JFeAA1.js" as="script"><link rel="prefetch" href="/learning-notes/assets/pointers.html-BbZIyEFa.js" as="script"><link rel="prefetch" href="/learning-notes/assets/scope.html-CNsZl0YI.js" as="script"><link rel="prefetch" href="/learning-notes/assets/index.html-DncVXc6Z.js" as="script"><link rel="prefetch" href="/learning-notes/assets/lec.html-Cj2eamcj.js" as="script"><link rel="prefetch" href="/learning-notes/assets/revision.html-D9K8lSGg.js" as="script"><link rel="prefetch" href="/learning-notes/assets/index.html-Dj_jYuAM.js" as="script"><link rel="prefetch" href="/learning-notes/assets/commands.html-B2Nlgx6s.js" as="script"><link rel="prefetch" href="/learning-notes/assets/shortkeys.html-Bw1WT07S.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Basic.html-BQqgykgV.js" as="script"><link rel="prefetch" href="/learning-notes/assets/QAOA.html-CXcNTDWT.js" as="script"><link rel="prefetch" href="/learning-notes/assets/QFE.html-uZLoELzv.js" as="script"><link rel="prefetch" href="/learning-notes/assets/QFT.html-nC7_EMuw.js" as="script"><link rel="prefetch" href="/learning-notes/assets/index.html-CycaJi4z.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Teleportation.html-B5xiFHhT.js" as="script"><link rel="prefetch" href="/learning-notes/assets/shor's algotighm.html-CFkOzbw3.js" as="script"><link rel="prefetch" href="/learning-notes/assets/week11.html-BklFsnpI.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Closure.html-Da2fu2X7.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Emun.html-7GwBy-Ku.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Error-handle.html-Dn0oJ09B.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Fearless-concurrency.html-BMfS4r6X.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Life-time.html-O1LlmtO2.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Minigrep.html-CtAynLVu.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Num-type.html-DmsPYGp0.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Ownership.html-BQpY6Wb3.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Package-management.html-Btp44fEp.js" as="script"><link rel="prefetch" href="/learning-notes/assets/index.html-ColOM-Zh.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Smart-pointer.html-CGG3TVYS.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Struct.html-QbgWDSwd.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Test.html-18qFlW93.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Trait.html-BqHMDhMb.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Vector.html-BsWTR8k7.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Bayesian-inference.html-Cx9f9JxL.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Bayesian.html-DKqLsxtv.js" as="script"><link rel="prefetch" href="/learning-notes/assets/GMM-EM.html-jt6UK2iJ.js" as="script"><link rel="prefetch" href="/learning-notes/assets/Multi-Armed-Bandits.html-CCn_WnvB.js" as="script"><link rel="prefetch" href="/learning-notes/assets/index.html-BYPcUCdL.js" as="script"><link rel="prefetch" href="/learning-notes/assets/ann.html-_F-60DzV.js" as="script"><link rel="prefetch" href="/learning-notes/assets/cross-validation.html-BDU9hBjG.js" as="script"><link rel="prefetch" href="/learning-notes/assets/final-revision.html-BEFIYDhE.js" as="script"><link rel="prefetch" href="/learning-notes/assets/gmm-em.html-C-2OJUhS.js" as="script"><link rel="prefetch" href="/learning-notes/assets/revision-2.html-Cmf9Gy4X.js" as="script"><link rel="prefetch" href="/learning-notes/assets/revision.html-hB2XmEt4.js" as="script"><link rel="prefetch" href="/learning-notes/assets/svm.html-Div-Hb-t.js" as="script"><link rel="prefetch" href="/learning-notes/assets/week-12.html-DkRXhCon.js" as="script"><link rel="prefetch" href="/learning-notes/assets/404.html-uulsbaPi.js" as="script"><link rel="prefetch" href="/learning-notes/assets/setupDevtools-7MC2TMWH-BtqJD9t-.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/learning-notes/"><!----><span class="vp-site-name" aria-hidden="true">Learning Notes</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/learning-notes/" aria-label="Home"><!---->Home<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/learning-notes/" aria-label="Home"><!---->Home<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading collapsible" href="/learning-notes/guide/" aria-label="Guide"><!---->Guide<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/guide/shortkeys.html" aria-label="Shortkeys"><!---->Shortkeys<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/guide/commands.html" aria-label="Commands"><!---->Commands<!----></a><!----></li><!--]--></ul></li><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading active collapsible" href="/learning-notes/CPP/" aria-label="Cpp"><!---->Cpp<!----></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/CPP/basic.html" aria-label="Basic"><!---->Basic<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/CPP/scope.html" aria-label="Scope, Duration, and Linkage"><!---->Scope, Duration, and Linkage<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/CPP/pointers.html" aria-label="Pointers(1)"><!---->Pointers(1)<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/learning-notes/CPP/pointers-2.html" aria-label="Pointers(2)"><!---->Pointers(2)<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading collapsible" href="/learning-notes/rust-learning/" aria-label="Rust Learning"><!---->Rust Learning<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/rust-learning/Num-type.html" aria-label="1.Number Types"><!---->1.Number Types<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/rust-learning/Ownership.html" aria-label="2.Ownership"><!---->2.Ownership<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/rust-learning/Struct.html" aria-label="3.Struct"><!---->3.Struct<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/rust-learning/Emun.html" aria-label="4.Enum"><!---->4.Enum<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/rust-learning/Package-management.html" aria-label="5.Package-management"><!---->5.Package-management<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/rust-learning/Vector.html" aria-label="6.Vector"><!---->6.Vector<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/rust-learning/Error-handle.html" aria-label="7.Error handle"><!---->7.Error handle<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/rust-learning/Trait.html" aria-label="8.Trait  泛型"><!---->8.Trait  泛型<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/rust-learning/Life-time.html" aria-label="9.Life time"><!---->9.Life time<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/rust-learning/Test.html" aria-label="10.Test"><!---->10.Test<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/rust-learning/Minigrep.html" aria-label="11.Minigrep"><!---->11.Minigrep<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/rust-learning/Closure.html" aria-label="12.Closure 闭包"><!---->12.Closure 闭包<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/rust-learning/Smart-pointer.html" aria-label="13.Smart pointer 智能指针"><!---->13.Smart pointer 智能指针<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/rust-learning/Fearless-concurrency.html" aria-label="14.Fearless concurrency 无畏并发"><!---->14.Fearless concurrency 无畏并发<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading collapsible" href="/learning-notes/quantum-computing/" aria-label="Quantum Computing"><!---->Quantum Computing<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/quantum-computing/Basic.html" aria-label="Basic computing and quantum computing Theory"><!---->Basic computing and quantum computing Theory<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/quantum-computing/Teleportation.html" aria-label="Teleportation"><!---->Teleportation<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/quantum-computing/QFT.html" aria-label="QKD and QFT"><!---->QKD and QFT<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/quantum-computing/QFE.html" aria-label="QFE and Shor&#39;s algorithm"><!---->QFE and Shor&#39;s algorithm<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/quantum-computing/QAOA.html" aria-label="QAOA"><!---->QAOA<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/quantum-computing/shor&#39;s%20algotighm.html" aria-label="Quantum algorithms"><!---->Quantum algorithms<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/quantum-computing/week11.html" aria-label="Week 11"><!---->Week 11<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading collapsible" href="/learning-notes/stat-machine-learning/" aria-label="Statical Machine Learning"><!---->Statical Machine Learning<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/stat-machine-learning/Bayesian.html" aria-label="Bayesian Linear Regression"><!---->Bayesian Linear Regression<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/stat-machine-learning/revision.html" aria-label="Linear regression and logistic regresion"><!---->Linear regression and logistic regresion<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/stat-machine-learning/revision-2.html" aria-label="Bais"><!---->Bais<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/stat-machine-learning/svm.html" aria-label="SVM, Kernel Methods"><!---->SVM, Kernel Methods<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/stat-machine-learning/ann.html" aria-label="Precepction and Artificial Neural Network"><!---->Precepction and Artificial Neural Network<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/stat-machine-learning/cross-validation.html" aria-label="Cross validation, experts learning, MAB"><!---->Cross validation, experts learning, MAB<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/stat-machine-learning/Bayesian-inference.html" aria-label="Bayesian inference"><!---->Bayesian inference<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/stat-machine-learning/GMM-EM.html" aria-label="GMM-EM"><!---->GMM-EM<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/stat-machine-learning/final-revision.html" aria-label="final"><!---->final<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading collapsible" href="/learning-notes/SPM/" aria-label="Software Project Management"><!---->Software Project Management<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/SPM/lec.html" aria-label="Lecture"><!---->Lecture<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/SPM/revision.html" aria-label="Revision"><!---->Revision<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading collapsible" href="/learning-notes/AI-planning/" aria-label="AI-planning"><!---->AI-planning<!----></a><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/AI-planning/revision.html" aria-label="Classical planning"><!---->Classical planning<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/AI-planning/revision-2.html" aria-label="MDP and reinforcement learning"><!---->MDP and reinforcement learning<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/learning-notes/AI-planning/revision-3.html" aria-label="Game theory and final recap"><!---->Game theory and final recap<!----></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="references-and-pointers-2" tabindex="-1"><a class="header-anchor" href="#references-and-pointers-2"><span>References and Pointers 2</span></a></h1><p>pointers are objects that hold the address of another object. This address can be deferenced using the dereference operator (*) to get the object at that address.</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">int</span> x<span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">	std<span class="token double-colon punctuation">::</span> cout <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;\n&#39;</span><span class="token punctuation">;</span>  <span class="token comment">// print the value of variable x</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">int</span><span class="token operator">*</span> ptr<span class="token punctuation">{</span> <span class="token operator">&amp;</span>x <span class="token punctuation">}</span><span class="token punctuation">;</span> 	<span class="token comment">// ptr holds the address of x</span></span>
<span class="line">	std<span class="token double-colon punctuation">::</span>cout  <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ptr <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;\n&#39;</span><span class="token punctuation">;</span>	<span class="token comment">// use deference operator to print the value of the object at the address that ptr is holding (which is x&#39;s address)</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">}</span>   </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The output is:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">5</span>
<span class="line">5</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-null-pointers" tabindex="-1"><a class="header-anchor" href="#_1-null-pointers"><span>1. Null pointers</span></a></h2><p>Besides a memory address, there is one additional value that a pointer can hold: a <strong>null value</strong>. A null value (often shortened to null) is a special value that means something has no value. When a pointer is holding a null value, it means the pointer is not pointing at anything. Such a pointer is called a <strong>null pointer</strong>.</p><p>The easiest way to create a null pointer is to use value initialization:</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// ptr is now a null pointer, and is not holding an address</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Because we can use assignment to change what a pointer is pointing at, a pointer that is initially set to null can later be changed to point at a valid object:</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// ptr is a null pointer, and is not holding an address</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">int</span> x <span class="token punctuation">{</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>x<span class="token punctuation">;</span> <span class="token comment">// ptr now pointing at object x (no longer a null pointer)</span></span>
<span class="line"></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ptr <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;\n&#39;</span><span class="token punctuation">;</span> <span class="token comment">// print value of x through dereferenced ptr</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="the-nullptr-keyword" tabindex="-1"><a class="header-anchor" href="#the-nullptr-keyword"><span>The nullptr keyword</span></a></h3><p>Much like the keywords <code>true</code> and <code>false</code> represent Boolean literal values, the <strong>nullptr</strong> keyword represents a null pointer literal. We can use <code>nullptr</code> to explicitly initialize or assign a pointer a null value.</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token punctuation">{</span> <span class="token keyword">nullptr</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// can use nullptr to initialize a pointer to be a null pointer</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">int</span> value <span class="token punctuation">{</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">int</span><span class="token operator">*</span> ptr2 <span class="token punctuation">{</span> <span class="token operator">&amp;</span>value <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// ptr2 is a valid pointer</span></span>
<span class="line">    ptr2 <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span> <span class="token comment">// Can assign nullptr to make the pointer a null pointer</span></span>
<span class="line"></span>
<span class="line">    <span class="token function">someFunction</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// we can also pass nullptr to a function that has a pointer parameter</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In the above example, we use assignment to set the value of <code>ptr2</code> to <code>nullptr</code>, making <code>ptr2</code> a null pointer.</p><h3 id="dereferencing-a-null-pointer-results-in-undefined-behavior" tabindex="-1"><a class="header-anchor" href="#dereferencing-a-null-pointer-results-in-undefined-behavior"><span>Dereferencing a null pointer results in undefined behavior</span></a></h3><p>Much like dereferencing a dangling (or wild) pointer leads to undefined behavior, dereferencing a null pointer also leads to undefined behavior. In most cases, it will crash your application.</p><p>The following program illustrates this, and will probably crash or terminate your application abnormally when you run it</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// Create a null pointer</span></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ptr <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;\n&#39;</span><span class="token punctuation">;</span> <span class="token comment">// Dereference the null pointer</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Conceptually, this makes sense. Dereferencing a pointer means “go to the address the pointer is pointing at and access the value there”. A null pointer holds a null value, which semantically means the pointer is not pointing at anything. So what value would it access?</p><p>Accidentally dereferencing null and dangling pointers is one of the most common mistakes C++ programmers make, and is probably the most common reason that C++ programs <strong>crash in practice</strong>.</p><p><strong>Whenever you are using pointers, you’ll need to be extra careful that your code isn’t dereferencing null or dangling pointers, as this will cause undefined behavior (probably an application crash).</strong></p><h3 id="check-for-null-pointers" tabindex="-1"><a class="header-anchor" href="#check-for-null-pointers"><span>Check for null pointers</span></a></h3><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">int</span> x <span class="token punctuation">{</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token punctuation">{</span> <span class="token operator">&amp;</span>x <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>ptr <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token comment">// explicit test for equivalence</span></span>
<span class="line">        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;ptr is null\n&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">else</span></span>
<span class="line">        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;ptr is non-null\n&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">int</span><span class="token operator">*</span> nullPtr <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;nullPtr is &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>nullPtr<span class="token operator">==</span><span class="token keyword">nullptr</span> <span class="token operator">?</span> <span class="token string">&quot;null\n&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;non-null\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// explicit test for equivalence</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>output:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">ptr is non-null</span>
<span class="line">nullPtr is null</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="use-nullptr-to-avoid-dangling-pointers" tabindex="-1"><a class="header-anchor" href="#use-nullptr-to-avoid-dangling-pointers"><span>Use nullptr to avoid dangling pointers</span></a></h3><p>Above, we mentioned that dereferencing a pointer that is either null or dangling will result in undefined behavior. Therefore, we need to ensure our code does not do either of these things.</p><p>We can easily avoid dereferencing a null pointer by using a conditional to ensure a pointer is non-null before trying to dereference it:</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token comment">// Assume ptr is some pointer that may or may not be a null pointer</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>ptr<span class="token punctuation">)</span> <span class="token comment">// if ptr is not a null pointer</span></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ptr <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;\n&#39;</span><span class="token punctuation">;</span> <span class="token comment">// okay to dereference</span></span>
<span class="line"><span class="token keyword">else</span></span>
<span class="line">    <span class="token comment">// do something else that doesn&#39;t involve dereferencing ptr (print an error message, do nothing at all, etc...)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>But what about dangling pointers? Because there is no way to detect whether a pointer is dangling, we need to avoid having any dangling pointers in our program in the first place. We do that by ensuring that any pointer that is not pointing at a valid object is set to nullptr.</p><p>That way, before dereferencing a pointer, we only need to test whether it is null -- if it is non-null, we assume the pointer is not dangling.</p><h3 id="favor-references-over-pointers-whenever-possible" tabindex="-1"><a class="header-anchor" href="#favor-references-over-pointers-whenever-possible"><span>Favor references over pointers whenever possible</span></a></h3><p>Pointers and references both give us the ability to access some other object indirectly.</p><p>Pointers have the additional abilities of being able to change what they are pointing at, and to be pointed at null. However, these pointer abilities are also inherently dangerous: A null pointer runs the risk of being dereferenced, and the ability to change what a pointer is pointing at can make creating dangling pointers easier:</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">int</span> x<span class="token punctuation">{</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">        ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>x<span class="token punctuation">;</span> <span class="token comment">// assign the pointer to an object that will be destroyed (not possible with a reference)</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token comment">// ptr is now dangling and pointing to invalid object</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>ptr<span class="token punctuation">)</span> <span class="token comment">// condition evaluates to true because ptr is not nullptr</span></span>
<span class="line">        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ptr<span class="token punctuation">;</span> <span class="token comment">// undefined behavior</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-pointers-and-const" tabindex="-1"><a class="header-anchor" href="#_2-pointers-and-const"><span>2. Pointers and const</span></a></h2><p>A <strong>pointer to a const value</strong> (sometimes called a <code>pointer to const</code> for short) is a (non-const) pointer that points to a constant value.</p><p>To declare a pointer to a const value, use the <code>const</code> keyword before the pointer’s data type:</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> <span class="token keyword">int</span> x<span class="token punctuation">{</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token punctuation">{</span> <span class="token operator">&amp;</span>x <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// okay: ptr is pointing to a &quot;const int&quot;</span></span>
<span class="line"></span>
<span class="line">    <span class="token operator">*</span>ptr <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">// not allowed: we can&#39;t change a const value</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In the above example, <code>ptr</code> points to a <code>const int</code>. Because the data type being pointed to is const, the value being pointed to can’t be changed.</p><p>However, because a pointer to const is not const itself (it just points to a const value), we can change what the pointer is pointing at by assigning the pointer a new address:</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> <span class="token keyword">int</span> x<span class="token punctuation">{</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token punctuation">{</span> <span class="token operator">&amp;</span>x <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// ptr points to const int x</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">const</span> <span class="token keyword">int</span> y<span class="token punctuation">{</span> <span class="token number">6</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>y<span class="token punctuation">;</span> <span class="token comment">// okay: ptr now points at const int y</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Just like a reference to const, a pointer to const can point to non-const variables too. A pointer to const treats the value being pointed to as constant, regardless of whether the object at that address was initially defined as const or not:</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">int</span> x<span class="token punctuation">{</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// non-const</span></span>
<span class="line">    <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token punctuation">{</span> <span class="token operator">&amp;</span>x <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// ptr points to a &quot;const int&quot;</span></span>
<span class="line"></span>
<span class="line">    <span class="token operator">*</span>ptr <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>  <span class="token comment">// not allowed: ptr points to a &quot;const int&quot; so we can&#39;t change the value through ptr</span></span>
<span class="line">    x <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">// allowed: the value is still non-const when accessed through non-const identifier x</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="const-pointers" tabindex="-1"><a class="header-anchor" href="#const-pointers"><span>Const pointers</span></a></h3><p>We can also make a pointer itself constant. A <strong>const pointer</strong> is a pointer whose address can not be changed after initialization.</p><p>To declare a const pointer, use the <code>const</code> keyword <strong>after</strong> the asterisk in the pointer declaration:</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">int</span> x<span class="token punctuation">{</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">int</span><span class="token operator">*</span> <span class="token keyword">const</span> ptr <span class="token punctuation">{</span> <span class="token operator">&amp;</span>x <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// const after the asterisk means this is a const pointer</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Just like a normal const variable, a const pointer must be initialized upon definition, and this value can’t be changed via assignment:</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">int</span> x<span class="token punctuation">{</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">int</span> y<span class="token punctuation">{</span> <span class="token number">6</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">int</span><span class="token operator">*</span> <span class="token keyword">const</span> ptr <span class="token punctuation">{</span> <span class="token operator">&amp;</span>x <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// okay: the const pointer is initialized to the address of x</span></span>
<span class="line">    ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>y<span class="token punctuation">;</span> <span class="token comment">// error: once initialized, a const pointer can not be changed.</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="const-pointer-to-a-const-value" tabindex="-1"><a class="header-anchor" href="#const-pointer-to-a-const-value"><span>Const pointer to a const value</span></a></h3><p>Finally, it is possible to declare a <strong>const pointer to a const value</strong> by using the <code>const</code> keyword both before the type and after the asterisk:</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">int</span> value <span class="token punctuation">{</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> <span class="token keyword">const</span> ptr <span class="token punctuation">{</span> <span class="token operator">&amp;</span>value <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// a const pointer to a const value</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>A <code>const</code> before the asterisk is associated with the type being pointed to. Therefore, this is a pointer to a const value, and the value cannot be modified through the pointer.</li><li>A <code>const</code> after the asterisk is associated with the pointer itself. Therefore, this pointer cannot be assigned a new address.</li></ul><h2 id="_3-pass-by-address" tabindex="-1"><a class="header-anchor" href="#_3-pass-by-address"><span>3. Pass by address</span></a></h2><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span></span>
<span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">printByValue</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>string val<span class="token punctuation">)</span> <span class="token comment">// The function parameter is a copy of str</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> val <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;\n&#39;</span><span class="token punctuation">;</span> <span class="token comment">// print the value via the copy</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">printByReference</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> ref<span class="token punctuation">)</span> <span class="token comment">// The function parameter is a reference that binds to str</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ref <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;\n&#39;</span><span class="token punctuation">;</span> <span class="token comment">// print the value via the reference</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">printByAddress</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">*</span> ptr<span class="token punctuation">)</span> <span class="token comment">// The function parameter is a pointer that holds the address of str</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ptr <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;\n&#39;</span><span class="token punctuation">;</span> <span class="token comment">// print the value via the dereferenced pointer</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>string str<span class="token punctuation">{</span> <span class="token string">&quot;Hello, world!&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token function">printByValue</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// pass str by value, makes a copy of str</span></span>
<span class="line">    <span class="token function">printByReference</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// pass str by reference, does not make a copy of str</span></span>
<span class="line">    <span class="token function">printByAddress</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// pass str by address, does not make a copy of str</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>When we pass argument <code>str</code> by value, the function parameter <code>val</code> receives a copy of the argument. Because the parameter is a copy of the argument, any changes to the <code>val</code> are made to the copy, not the orginal argument.</p><p>When we pass argument <code>str</code> by reference, the reference parameter <code>ref</code> is bound to the actual argument. This avoids making a copy of the argument. Because our reference parameters is const, we are not allowed to change <code>ref</code>. But if <code>ref</code> were non-const, any changes we made to <code>ref</code> would change to <code>str</code>.</p><p>In <code>printByAddress()</code> function to use pass by address, we&#39;ve made our function parameter a pointer named <code>ptr</code>. Since <code>printByAddress()</code> will use <code>ptr</code> in a read-only manner, <code>ptr</code> is a pointer to a const value.</p><ul><li>Inside the <code>printByAddress()</code> function, we deference <code>ptr</code> parameter to access thevalue of the object being pointed to.</li><li>Second, when the function is called, we can&#39;t just pass in the <code>str</code> object-- we need to pass in the address of <code>str</code>. The easiest way to do that is to use the address-of operator (&amp;) to get the pointer holding the address of <code>str</code>.</li></ul><h3 id="pass-by-address-does-not-make-a-copy-of-the-object-being-pointed-to" tabindex="-1"><a class="header-anchor" href="#pass-by-address-does-not-make-a-copy-of-the-object-being-pointed-to"><span>Pass by address does not make a copy of the object being pointed to</span></a></h3><h3 id="pass-by-address-allows-the-function-to-modify-the-argument-s-value" tabindex="-1"><a class="header-anchor" href="#pass-by-address-allows-the-function-to-modify-the-argument-s-value"><span>Pass by address allows the function to modify the argument’s value</span></a></h3><p>When we pass an object by address, the function receives the address of the passed object, which it can access via dereferencing. Because this is the address of the actual argument object being passed (not a copy of the object), if the function parameter is a pointer to non-const, the function can modify the argument via the pointer parameter:</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">changeValue</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> ptr<span class="token punctuation">)</span> <span class="token comment">// note: ptr is a pointer to non-const in this example</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token operator">*</span>ptr <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">// change the value to 6</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">int</span> x<span class="token punctuation">{</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;x = &quot;</span> <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;\n&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token function">changeValue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// we&#39;re passing the address of x to the function</span></span>
<span class="line"></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;x = &quot;</span> <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;\n&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This prints</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">x = 5</span>
<span class="line">x = 6</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>If a function is not supposed to modify the object being passed in, the function parameter can be made a pointer to const:</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token keyword">void</span> <span class="token function">changeValue</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> ptr<span class="token punctuation">)</span> <span class="token comment">// note: ptr is now a pointer to a const</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token operator">*</span>ptr <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">// error: can not change const value</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="prefer-pass-by-const-reference" tabindex="-1"><a class="header-anchor" href="#prefer-pass-by-const-reference"><span>Prefer pass by (const) reference</span></a></h3><p>Note that function <code>print()</code> in the example above doesn’t handle null values very well -- it effectively just aborts the function. Given this, why allow a user to pass in a null value at all? Pass by reference has the same benefits as pass by address without the risk of inadvertently dereferencing a null pointer.</p><p>Pass by const reference has a few other advantages over pass by address.</p><p>First, because an object being passed by address must have an address, only lvalues can be passed by address (as rvalues don’t have addresses). Pass by const reference is more flexible, as it can accept lvalues and rvalues:</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">printByValue</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token comment">// The function parameter is a copy of the argument</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> val <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;\n&#39;</span><span class="token punctuation">;</span> <span class="token comment">// print the value via the copy</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">printByReference</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> ref<span class="token punctuation">)</span> <span class="token comment">// The function parameter is a reference that binds to the argument</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ref <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;\n&#39;</span><span class="token punctuation">;</span> <span class="token comment">// print the value via the reference</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">printByAddress</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> ptr<span class="token punctuation">)</span> <span class="token comment">// The function parameter is a pointer that holds the address of the argument</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ptr <span class="token operator">&lt;&lt;</span> <span class="token char">&#39;\n&#39;</span><span class="token punctuation">;</span> <span class="token comment">// print the value via the dereferenced pointer</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">printByValue</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// valid (but makes a copy)</span></span>
<span class="line">    <span class="token function">printByReference</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// valid (because the parameter is a const reference)</span></span>
<span class="line">    <span class="token function">printByAddress</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// error: can&#39;t take address of r-value</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Best practice</strong></p><p>Prefer pass by reference to pass by address unless you have a specific reason to use pass by address.</p><h3 id="pass-by-address-for-optional-arguments" tabindex="-1"><a class="header-anchor" href="#pass-by-address-for-optional-arguments"><span>Pass by address for “optional” arguments</span></a></h3><p>One of the more common uses for pass by address is to allow a function to accept an “optional” argument. This is easier to illustrate by example than to describe:</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">printIDNumber</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>id<span class="token operator">=</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span></span>
<span class="line">        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Your ID number is &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>id <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;.\n&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">else</span></span>
<span class="line">        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Your ID number is not known.\n&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">printIDNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// we don&#39;t know the user&#39;s ID yet</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">int</span> userid <span class="token punctuation">{</span> <span class="token number">34</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">printIDNumber</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>userid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// we know the user&#39;s ID now</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This example prints:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Your ID number is not known.</span>
<span class="line">Your ID number is 34.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>However, in many cases, function overloading is a better alternative to achieve the same result:</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">printIDNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Your ID is not known\n&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">printIDNumber</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Your ID is &quot;</span> <span class="token operator">&lt;&lt;</span> id <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">printIDNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// we don&#39;t know the user&#39;s ID yet</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">int</span> userid <span class="token punctuation">{</span> <span class="token number">34</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">printIDNumber</span><span class="token punctuation">(</span>userid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// we know the user is 34</span></span>
<span class="line"></span>
<span class="line">    <span class="token function">printIDNumber</span><span class="token punctuation">(</span><span class="token number">62</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// now also works with rvalue arguments</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="changing-what-a-pointer-parameter-points-at" tabindex="-1"><a class="header-anchor" href="#changing-what-a-pointer-parameter-points-at"><span>Changing what a pointer parameter points at</span></a></h3><p>When we pass an address to a function, that address is copied from the argument into the pointer parameter (which is fine, because copying an address is fast).</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// [[maybe_unused]] gets rid of compiler warnings about ptr2 being set but not used</span></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">nullify</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span>maybe_unused<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token keyword">int</span><span class="token operator">*</span> ptr2<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    ptr2 <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span> <span class="token comment">// Make the function parameter a null pointer</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">int</span> x<span class="token punctuation">{</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">int</span><span class="token operator">*</span> ptr<span class="token punctuation">{</span> <span class="token operator">&amp;</span>x <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// ptr points to x</span></span>
<span class="line"></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;ptr is &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>ptr <span class="token operator">?</span> <span class="token string">&quot;non-null\n&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;null\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token function">nullify</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;ptr is &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>ptr <span class="token operator">?</span> <span class="token string">&quot;non-null\n&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;null\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This program prints:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">ptr is non-null</span>
<span class="line">ptr is non-null</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>As you can see, changing the address held by the pointer parameter had no impact on the address held by the argument (<code>ptr</code> still points at <code>x</code>). When function <code>nullify()</code> is called, <code>ptr2</code> receives a copy of the address passed in (in this case, the address held by <code>ptr</code>, which is the address of <code>x</code>). When the function changes what <code>ptr2</code> points at, this only affects the copy held by <code>ptr2</code>.</p><h2 id="_4-return-by-reference-and-return-by-address" tabindex="-1"><a class="header-anchor" href="#_4-return-by-reference-and-return-by-address"><span>4. Return by reference and return by address</span></a></h2><p>We encounter a similar situation when returning by value: a copy of the return value is passed back to the caller. If the return type of the function is a class type, this can be expensive.</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line">std<span class="token double-colon punctuation">::</span>string <span class="token function">returnByValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns a copy of a std::string (expensive)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>In cases where we’re passing a class type back to the caller, we may (or may not) want to return by reference instead. <strong>Return by reference</strong> returns a reference that is bound to the object being returned, which avoids making a copy of the return value. To return by reference, we simply define the return value of the function to be a reference type:</p><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp" data-title="cpp"><pre><code><span class="line">std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span>       <span class="token function">returnByReference</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns a reference to an existing std::string (cheap)</span></span>
<span class="line"><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> <span class="token function">returnByReferenceToConst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns a const reference to an existing std::string (cheap)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/learning-notes/CPP/pointers.html" aria-label="Pointers(1)"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Pointers(1)</span></div></a><!----></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/learning-notes/assets/app-DsOgR8nk.js" defer></script>
  </body>
</html>
